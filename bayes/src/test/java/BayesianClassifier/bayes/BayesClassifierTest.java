package test.java.BayesianClassifier.bayes;

import java.util.Collections;
import java.util.HashMap;
import java.util.LinkedList;
import java.util.List;

import main.java.BayesianClassifier.bayes.BayesClassifier;

import org.junit.Before;
import org.junit.Test;

import weka.core.tokenizers.Tokenizer;

/**
 * Tests the BayesClassifier by loading some data in it and printing the
 * classification results.
 * <p/>
 * Created by kevin on 12/2/14.
 */
public class BayesClassifierTest {

	private BayesClassifier bc;
	private List<String> maleTrainingMap = new LinkedList<>();
	private List<String> femaleTrainingMap = new LinkedList<>();

	@Before
	public void setUp() throws Exception {
		this.bc = new BayesClassifier("bayesClassifierTest.byc");

		String maleString = "yeah ok i woke up with my tv on after falling asleep with it on... and fell black asleep and around 9:00 i woke up again to find that my tv was off! so i turned it on and watched a little which eating cadbury mini eggs. blah no one is home right now but i think aimee is still sleeping and i am bored.. its a very very sunny day today which is great. i think i will play tony hawk underground or just find something to eat or something.. oh well i have the whole day what to decide.. blah this is boring and im still typing and yeah i need to go pee...... just came back from peeing and yeah im am still bored and i am saying what im writing is like the most boing thing.. i am in my brothers room right now and i can hear the birds chirping in the lemon tree just outside the window.. i see birds flying over the roof tops of my wrecked neighborhood along with the tall palm tree that are very distant away.. i just started staring everywhere reading everything i see, \"main\" \"nokia\" \"logitech\" \"warner bros\" \"multigraph\" all nonsense that does not concern me. this is stupid and the things i am typing is stupid. "
				+ "Lately the whole thing has been the same.. .same routine: wake up, school, homework, bed, weekend... yeah i am real bored like always.. living this dull life. even if you see me and it looks like im having a great time, im not.. like i go somewhere and i look at something, i just dont care, just leave it there.. i have something missing in my life. and i dont know yet.. maybe i do but im just afraid to go and get it. something is stopping me.. no one takes me seriously anymore... its hard to change my image or not be me for a day, without breaking the silence. seriousness in me, no one will see. i guess im just the funny stupid one who had no feeling at all.. im indifferent, apathetic, no emotion. life has too much drama that i just want to put aside and see the world how it is.. maybe this is the real world and it is all this bullshit. i know i sound like a television but yeah sometimes i think ill wake up but i know i wont. this dream is something i cannot escape. here i am listening to my music talking about something that no one will ever hear me say.. there will read this and say, this is not chris, or chris dont sound like this... my life is is dead already, but im still living "
				+ "It's 2:14 so I guess this counts as a new day. Well \"yesterday\" was a shorted day. Andro and me went around  Eagle Rock and I discovered some roads that I haven't been on before. So yeah. I hate my love life right now. I mean I keep thinking I have this chance with this girl, but she flirts with every guy. So I dont know what to think anymore. And I'm saying after all the signals I've got from her, she shouldn't be doing that, unless we just have a friendly bond as friends. It's just confusing because sometimes she would say \"I love you,\" but then she doesn't act like it. I know she trust me to go with her places, to do things for her, and other stuff. Maybe shes just using me as a bitch or something. I mean I do love her. I tried telling her that through a CD I made her, but it only lasted a little while. I have come to the conclusion that she doesn't like me. If you like someone you would have respect for them. Though she has no respect for me. She punces me, hits me, socks me, hurts me. I guess I shouldn't even try next time. I was asleep awhile ago and she IMed me and said, \"your ignoring me on purpose.\" I am so glad I was asleep, I don't want to be apart of her games anymore. I am just going to stop liking her someway or another. I won't stare at her anymore in math class or anything, won't laugh at her jokes even though it might be funny, or I won't do anything. "
				+ "Today was a good day. i am starting to see the world again for what it was to me before. No more drama, just fun and sunshine. Yes the sun arose from the dead and gave me everlasting heat today. I kept sticking arm and head out the window on the cardrive home. Well yeah, i wish school can be like today. And i have decided i am going to wear my shorts to school tomorrow. :D "
				+ "Today was the day after the mercury incident. A student of the eight grade brought with him some mercury to school with him in the morning. Little did he know that people can die of mercury if shallowed and other things. In my second period, a classmate of mine had found some mercury on the floor. My science teacher said to sit away and immediately called the attendence office. From the science class, we had to move up to the football field and continue our work there, while the room get clean.  i have touched some of the mercury but hadnt taken any with me to any classes. but yeah i could be poisoned. after i learned what mercury could do to a person, i started worrying. though my other teachers said that you can only get affected if you drank lots of amounts of it. woot thank goodness.. well that day, the liberal arts building in the school was shut down due to mercury in the classroom and hallways. Today, classes in the room, like mine, would had to go to the library where we would stay far away from the poisonous substance. In the library for science, some guy came in and asked us if we were wearing the same shoes as yesterday. i said yes with a couple of other people and we had to get our shoes inspected for mercury.. man we had a lot of mercury on our shoes. they had this device that measured the mercury, kinda like a metal detector. if a student had a lot, they would have to get their shoes cleaned. blah  blah.. i had my shoes cleaned and it took a long time. i missed nutrition, but i managed to get some food.. woot.  well today i socked jonathan on the head which felt real good. i gave him a good bleeding on the leg with a kick which made me really happy. and yeah things with me and reina havent been going well. well she socked me today and i didnt want to talk to her at all. that way she would know i am trying to be serious and that i dont like her socking me. i dunno. well yeah im bored.. blah blah "
				+ "I have realize something better doing, than making people look stupid with their own words. Making people smile, with my words, gifts, actions, and more, are better than that. Knowing that someone is having a good time in their life because I have been there. I try to do good deeds for friends, and be romantic for her. and I do. And when I do, I get a smile. There are some things in life living for, and this is one of it. Others are like; family; friends; and some, I did not discover yet. Give kind, and recieve it. Thats why I'm saying now-a-days. No one likes to be punched out of respect from the person. Everyone wants respect even if you deny it. Though me, people know be as out-going, and sometimes miss my respect by a mile and think I don't care about what they say. I have tried to change the wt I go about things, comment things, use things, but I always fail and go back to the same me. Maybe there is no change me, unless I have to discover more life lessons to change my ways. I don't know if this idea of making people smile will ever stick with me. I mean people have their moods and I know I have em.  I have a school mood which is my out-going-kind-of-person, and then there is my life lessons, I'm so in love, lets write in a journal person. And when both moods cross, its kinda weird. And I have seen it been weird by the comments I GET from people. "
				+ "Well yeah. I was talking to her today and she said she would come to my house on monday, which is tomorrow. I told her i wanted to meet her at the bottom of the hill instead. Though the subject changed quick. It came back up again. I asked her what she was doing tomorrow, and she said her friend was gonna come over. She asked me why i asked, and I said i wanted to take a walk with her. And then it happened. She said she would blow off her friend and come with me. But i know her for a long time and still i dont even know if she was joking or not. I mean she signed off right in my face without us finishing our conversation. I am kinda having a feeling that something good might come. But these feelings come up too often and they pass too quick. So i dont even know what to believe anymore. Like I said, she flirts with everyone. Though i dont think she even likes me, ANYMORE. We used to be so so so so close together. Like as if we were bf and gf. It didnt even matter if it wasn't the real thing, it was life the real thing, though no one has to get the permission to break away. Im just wasting my life dedicating time to someone who won't do the same thing back. Well i can wait till tomorrow, or should i mean today.. it is 1:39, which means it is monday. Ill call her in the morning and see what comes up. I really want to be alone with her, just for at least 30 minutes, that is NOT at school rounds. hand out. yenno what i mean. i mean i only se her during school, so this is my chance. I have a while week, the whole spring break to dig, or do something, and find out the facts i need to come to my last conclusion. "
				+ "Today I woke up with the sun shining into my room. It felt great and it is very rare that the sun would be up in 6 o'clock in the morning. Though it was a hot day, today was pretty cool. Justine does like the touching. HAHA. I knew it. Shes a horny. Today during lunch, I got a little crazy with my shoulder action. I went to Chris Epps house and Darwin came. We had fun playing basketball and baseball, then we went to Kurt's house across the street. Kurt is getting a swimming pool which is very cool. If I had lighter skin, I would swim a lot. Though me in water for a long period of time equals dark dark. I want to make a website, but its so hard finding a website. Websites are fun to make. And aww shit. I just forgot about the contest on shadowness. FUCK. The winner gets a year long account of uploading anything like music, html files, and all kinds of shit. Man the dead line was on CINCO DE MAYO. Damn Mexican destractions. "
				+ "Yeah I can last without her. And yet, people now know of my \"angry\" side. If you do something to me, I will take my revenge. I didn't mind them taking my wallet and playing monkey in the middle, but looking in it, supposively taking my money, and dropping the contents of it really got me pissed. I was never good at saying sorry, and I'm still not. So I guess I'll just let this problem hang. Her and her buddies in math are so immature. I mean I do jokes and stuff, but saying nipple out loud in math class isn't really funny. They are like the only ones laughing. Lately I'm just trying to get the respect of people. I got a lot of respect right now, but there are still a lot of people who just think they can boss me around because I play along with comments, or being very quiet. Having multiple personalites are a tuffy. "
				+ ". . . I once said, that her last impression was bad, but little did I know, it wasn't. I thought that me, Christopher Paguio, would have to wait all the way to next school year to hear her beautiful voice. She calls me, and even though I don't pick up, she takes the time to leave a message. A message that made me smile, a  real  smile, a smile that I haven't had since school ended. . . . In the past, I said to myself, that I would never fall for her again. It's just impossible to not do that. Just to take this chance everytime with her is worth it, even though the outcome may not be the best. She broke my hearts many time with her flirt-a-licous personality, and I always hid my jealousy. But now it's different. School is over, and seeing her through the summer can put away her seductive words closed, but open to me. "
				+ "I think I am too emo for life. I am just sitting here listening to the Copeland soundtrack, thinking about me in the future. Just a while ago I was thinking that I would never want to grow up. Like I mean I've been thinking about me, living without my parents money. I would be worrying about those taxes, those payments, those responsibilities. Well, part of me is saying that I shouldn't be worrying about whats in the future, and I should be concentrating on the present. And the other part of me, is just, afraid. I don't know. too much drama in my life. Too many heartbreaks. I love emotions, and emotions love me. I just don't know what to do. I want to master life, I want the best out of life. I am afraid of dying. I afraid of where I will go after I die. I wonder to myself if I am doing good, or bad. I want to do good. hmm. maybe I should think this whole thing over. til next time. "
				+ "Hmm.. Sad topic is: Break Up My sister's boyfriend broke up with her yesterday. Of course she really loved him. I thought he was cool. He came over to our house once in a while, and even came to church with us. He bonded good with our family. I hate to see my sister cry. I mean yeah you know you don't like to see a family member of yours cry. I knew she felt bad and she didnt go to school that day. I wanted to cheer her up, but i didn't know what to say. she will find a new boyfriend, we all know it. ";

		String femaleString = "This is Unforgettable. "
				+ "In Bush We Trust?    John Moyers is Editor-in-Chief of TomPaine.com.   George W. Bush is a liar. There, I said it -- the \"L\" word. Someone in Washington had to.   Thanks to AWOL WMD, people all across America have the \"L\" word on their lips, but here in D.C. it's still a hard one to mouth. Few Washington-based commentators and fewer politicians have done so.   On Sunday, June 22, The New York Times had a chance to be the first big-league outfit to say it plainly. But the headline on Washington-based reporter David E. Rosenbaum's story, \"Bush May Have Exaggerated, but Did He Lie?\" was a tip that the story would pull up short. Rosenbaum considered a narrow question -- whether Mr. Bush has told any neat, tidy, obvious lies -- and concluded he has not (a couple of fibs and distortions, maybe, but no lies).   Whether the president twisted intelligence on WMD \"can probably be answered conclusively only by historians when all the evidence and consequences are known,\" Rosenbaum wrote. (So, our kids get to pay the debt for our imperial aspirations and our tax breaks, and someday they'll be the first to know how it all happened. Great.)   Distance seems to make criticism easier. The Times' Princeton-based columnist Paul Krugman has written that the administration \"systematically and brazenly distorts the facts\" and is \"choosing and exaggerating intelligence\" and \"misleading the public.\"   Close, but still no \"L\" word.   Boston-based William Rivers Pitt isn't daunted: The administration \"lied us into a war,\" writes the high-school teacher who moonlights as a columnist for Truthout.org. \"Trust a teacher on this. We can spot liars who have not done their homework a mile away.\"   A full-page ad in The New York Times last week by MoveOn.org and Win Without War, groups with members across the nation, put it plainly and hoisted the president on his own pointed WMD -- words of mass distortion. Under the headline \"MISLEADER\" the ad stacked up five of Mr. Bush's pre-war whoppers and noted, \"It would be a tragedy if young men and women were sent to die for a lie.\" (Full disclosure: TomPaine.com liked the ad so much, we paid to run it in the June 30 issue of The Weekly Standard.)   Harley Sorensen, writing on SFGate.com, gets the prize for directness: \"Why mince words? These are the facts: 1) President George W. Bush is a liar. 2) Secretary of State Colin Powell is a liar. 3) Secretary of Defense Donald Rumsfeld is a liar. 4) National Security Advisor Condoleezza Rice is a liar.\" No mincing there.   So the word is out there in different forms -- lie, lies, lying, liar. When will Mr. Bush's putative opponents in government, the Democrats, decide it's time to tell it like it is?   Democrats have accused the president of \"a pattern of deception and deceit\" (Sen. Bob Graham), said he's not been \"entirely truthful\" (Howard Dean), and led us to war based on \"unfounded assertions\" (Rep. Dennis Kucinich). Strong stuff, but no \"L\" word.   Opposition worthy of the name would push the GOP-controlled House and Senate hearings beyond the question of what the intelligence community knew about WMD, where it seems stalled.   Sen. Jay Rockefeller, the ranking Democrat on the Senate Intelligence Committee, could invoke committee rules that would allow his minority party to launch a full investigation. But he won't -- reportedly for fear of being seen as partisan.   If this isn't the time for partisanship -- after all, we're talking about manipulations that led the nation into war -- when is? Rockefeller's timidity is allowing committee Republicans to cover what looks more every day like a lie of literally global magnitude.   Perhaps Dems fear the day when WMD are found (and they will be found, by hook or by crook). But they needn't worry -- even if misleading the nation to war weren't an issue, Mr. Bush's record is full of lies.   The president says he supports our troops -- but he proposed cutting veterans' benefits and sidestepped a law meant to protect the health of soldiers headed for combat. His \"leave no child behind\" pledge is a fraud -- he's vastly underfunded his own education plan, and he signed the recent tax bill even after his GOP minions sneakily removed provisions benefiting low-income families. Mr. Bush says he's a \"compassionate conservative,\" but only a hard-hearted radical would push his Robin-Hood-in-reverse tax policies. He says he wants to expand national service programs, but he's presiding over a huge cut in AmeriCorps programs. Candidate Bush promised to be \"a uniter, not a divider,\" but his foreign policies have profoundly divided the international community, isolated America and devalued her stock in the eyes of world.   Mr. Bush's administration is built on lies, which means the granddaddy of them all is his promise to restore \"honor and integrity\" to the Oval Office.   Presidential Brain Karl Rove must be worried. Rove knows that any president's popularity rests more on whether voters think he's a believable and admirable leader than on the substance of issues. George W. Bush has that going for him -- people might not like his policies (if they understand them at all), but they like his swagger and certitude, and they trust him to do what he says.   But that trust could crumble if questions linger about whether the White House deceived us into war. Few of the president's allies could or would defend that -- even GOP-TV (a.k.a. Fox News) would have trouble explaining away that one. "
				+ "Opening up with these excellent quotes from our dear friend, Ann Coulter:  [more in-depth attacks on Coulter later today, I promise]  This is all from her new book, Treason. By the way, I'm firmly convinced that it should be considered treason to write this kind of filth.  \"Ashcroft has been incessantly attacked on the op-ed page of the New York Times by the same columnists who are now angrily demanding to know why the Bush administration didn't imprison all Arabs before Sept. 11. He has been compared to the Taliban. (And you're not a patriot in this war until a liberal has compared you to the Taliban.)\"  \"Like everything liberals oppose but don't have a good argument for, all reasonable national security measures are called \"unconstitutional.\" Whenever liberals are losing on substance, they pretend to be upset about process.\"  \"While undermining victory in the Cold War, liberals dedicated themselves to mainstreaming Communist ideals at home... Betraying the manifest national defense objectives of the country is only part of the left's treasonous scheme. They aim to destroy America from the inside with their relentless attacks on morality and the truth. (p. 289)\"  Oh, yeah. Let's destroy America! Hey, people! Where are your liberal grenades? WHAT?! You lent them to HALLIBURTON?!!  \"Whether they are defending the Soviet Union or bleating for Saddam Hussein, liberals are always against America. They are either traitors or idiots, and on the matter of America's self-preservation, the difference is irrelevant. Fifty years of treason hasn't slowed them down. (p. 16)\"  Fifty years of Treason? If treason includes making sure that a bunch of fat pot bellied men don't take over the world, then bring treason on! *snorts* MANIFEST NATIONAL DEFENSE OBJECTIVES, indeed.  \"McCarthy's fundamental thesis was absolutely correct: The Democratic Party had fallen to the allures of totalitarianism. It was as if the Republicans had been caught in bed with Hitler. (p. 71)\"  Now we get to my favorite part here; this is where Ann Coulter idolizes McCarthy. This is the same bastard who ruined thousands of lives and kind of ruined the country, but he wasn't a liberal! He must be great! Bitch! How DARE she?!  \"When the Democrats' bluff was called in a roll call vote in Congress, many voted for war with Iraq. Inadvertently performing a great service, New York Times columnist Maureen Dowd revealed the Democrats' treasonous calculations. She explained that Democrats would be forced to fake enthusiasm for the war on terror or lose the American people forever. Democrats, she said, \"fear that if they approach\" Iraq the same way they did during the Gulf War in 1991, \"they will be portrayed as McGovernite wimps.\" Consequently, liberals would lie and pretend to support America. With their votes duly recorded, they went right back to attacking the war. (p. 14-15)\"  While Maureen Dowd is not the nicest person in the world, I have yet to see her condemn every conservative in the world as having committed treason. Dowd might be petty, but there is a line where she stops and rarely crosses. Coulter on the other hand, has no problem discrediting actual achievements of people based solely on the fact that she does not LIKE them, as can be seen here:  \"Carter would travel to Norway to accept the award in December 2002 - two months after Congress had authorized war against Iraq. Article III's definition of treason is narrow. But after Congress's action authorizing war, for any American to accept this award on the ground offered does sound terribly like \"adhering to their enemies, giving them aid and comfort.\" (p. 257)\"  Yes. Carter has actually helped people and done more than you ever have to help anyone else. Carter has saved lives, and Coulter has caused grief. Let's see. Who's the better person? I'm thinking here -  Oh, Clod. She is, indeed, a horrible person. "
				+ "Ok ... so here it goes. Icenhower was talking to me ... and she goes, shaking her head, \"Sreya ... I just got the grades ... they're terrible! What are you doing with yourself! I can't believe this ... you KNOW colleges see your final transcripts ... \"  But on a funnier note, Colella and Connolly were talking and Colella goes, \"Ever since she got in to college she's been ... phew! Forgetting homeworks left and right!\"  \"Well,\" Connolly goes, \"She must have been really smart. The way she acted in my class, she got accepted as a freshman!\" "
				+ "I am afraid of failing Biology. I am also equally afraid of failing Calculus. Whatever I get in either of those classes should not matter because I'm going to retake them either in college, or in the case of the hated Calculus, I will be taking it over the summer.  What will happen if Rutgers rescinds my offer of admission:  1. I will be disowned. 2. I will be without a roommate. 3. Sarah will hate me for life. 4. I will be nothing, and nobody. 5. It won't matter because I am dead.  There seem to be no pros to this situation, so we'll all move on.  What I need to do:  (It's too late to accept anything but the usual F on my next bio thing. But I can complete the worksheets and make an attempt to BS stuff. The worksheets might also help me study. Count on me being up until a really hellish hour.)  I have also written the world's crappiest poem. And afterward, I think that I should eat cheese. Yes. Cheese. Moving On ... "
				+ "I am stuck on the plot for Sanguine Fortress. Every problem I solve creates a new one. Did you know that this hunk of junk is the largest project I have ever attempted? I won't say more than that ... I'd jinx myself.  What was today? (Two Ap exams in a row, pizza, gerbils and a very wise saying.) Samantha Figueroa asked me what I wanted to do in Spanish class yesterday, and I told her I want to make it possible for more Americans to have health insurance.  So she said to me, \"I don't know what you feel about what's up there ... but you know, you'd get mad points with him.\" And that got me thinking more than anything else ... is there a God? I honestly don't know what to think anymore. I'm so FRIED.  Anyway ... everytime I write SF I feel better, although it's thoroughly depressing at the same time. So I'm going to keep going. And hopefully, sometime, I can read my work and say, \"Well ... I've gotten a damn sight better since then.\" ";

		Collections.addAll(maleTrainingMap, Tokenizer.tokens(maleString));
		Collections.addAll(femaleTrainingMap, Tokenizer.tokens(femaleString));
	}

	@Test
	public void testTraining() throws Exception {
		bc.updateGroup("M", maleTrainingMap);
		bc.updateGroup("F", femaleTrainingMap);

		HashMap<String, HashMap<String, HashMap<String, Integer>>> dataset = bc
				.getDataset();

		for (String key : dataset.keySet()) {
			System.out.println(key + ":");
			for (String key2 : dataset.get(key).keySet()) {
				System.out.println("    " + key2 + ":");
				for (String key3 : dataset.get(key).get(key2).keySet()) {
					Integer occurrences = dataset.get(key).get(key2).get(key3);
					System.out.println("        " + key3 + ": " + occurrences);
				}
			}
		}
	}

	@Test
	public void testCategorization() throws Exception {
		bc.updateGroup("M", maleTrainingMap);
		bc.updateGroup("F", femaleTrainingMap);
		HashMap<String, List<String>> resM = bc.classifyGroup(maleTrainingMap);
		HashMap<String, List<String>> resF = bc
				.classifyGroup(femaleTrainingMap);

		for (String key : resM.keySet()) {
			System.out.println(key + ": ");
			for (String word : resM.get(key)) {
				System.out.println("    " + word + " (male)");
			}
		}

		for (String key : resF.keySet()) {
			System.out.println(key + ": ");
			for (String word : resF.get(key)) {
				System.out.println("    " + word + " (female)");
			}
		}
	}
}
